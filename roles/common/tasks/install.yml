---
- name: Install common packages
  apt:
    name:
    - python-pip
    - python-apt
    - openjdk-8-jdk
    - keepassx
    - geany
    - git
    - tig
    - vim
    - htop
    - mc
    - whois
    - curl
    - network-manager-openvpn-gnome
    state: latest
    update_cache: true

- name: Install Skype package
  apt:
    deb: "https://repo.skype.com/latest/skypeforlinux-64.deb"
    state: present

- name: install pip packages
  pip:
    name:
    - awscli
    - aws-adfs
    state: latest

- name: Install {{ item }}
# TODO: use after migrating to ansible 2.8
#  snap:
#    name: {{ item }}
#    classic: yes
#    state: present
  shell: "snap install {{ item }} --classic"
  args:
    creates: "/snap/bin/{{ item }}"
  with_items:
  - pycharm-community
  - slack
  - kops
  - kubectl
  - jq
  - yq
